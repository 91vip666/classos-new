import{d as x,A as ee,y as O}from"./hooks.module.z57d8FTj.js";import{u as n}from"./jsxRuntime.module.C14-XZ0T.js";import{k as te}from"./preact.module.CtyjANje.js";function ne(l){return n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...l,children:n("path",{fill:"currentColor",d:"M3 12V6.75l6-1.32v6.48zm17-9v8.75l-10 .15V5.21zM3 13l6 .09v6.81l-6-1.15zm17 .25V22l-10-1.91V13.1z"})})}var B={exports:{}},o={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G;function re(){if(G)return o;G=1;var l=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),S=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),H=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),$=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,k={};function w(e,t,r){this.props=e,this.context=t,this.refs=k,this.updater=r||L}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I(){}I.prototype=w.prototype;function N(e,t,r){this.props=e,this.context=t,this.refs=k,this.updater=r||L}var b=N.prototype=new I;b.constructor=N,W(b,w.prototype),b.isPureReactComponent=!0;var g=Array.isArray,c={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function A(e,t,r,s,a,f){return r=f.ref,{$$typeof:l,type:e,key:t,ref:r!==void 0?r:null,props:f}}function u(e,t){return A(e.type,t,void 0,void 0,void 0,e.props)}function d(e){return typeof e=="object"&&e!==null&&e.$$typeof===l}function h(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var v=/\/+/g;function P(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h(""+e.key):t.toString(36)}function M(){}function Q(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(M,M):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function T(e,t,r,s,a){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(f){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case l:case m:i=!0;break;case j:return i=e._init,T(i(e._payload),t,r,s,a)}}if(i)return a=a(e),i=s===""?"."+P(e,0):s,g(a)?(r="",i!=null&&(r=i.replace(v,"$&/")+"/"),T(a,t,r,"",function(F){return F})):a!=null&&(d(a)&&(a=u(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(v,"$&/")+"/")+i)),t.push(a)),1;i=0;var y=s===""?".":s+":";if(g(e))for(var p=0;p<e.length;p++)s=e[p],f=y+P(s,p),i+=T(s,t,r,f,a);else if(p=z(e),typeof p=="function")for(e=p.call(e),p=0;!(s=e.next()).done;)s=s.value,f=y+P(s,p++),i+=T(s,t,r,f,a);else if(f==="object"){if(typeof e.then=="function")return T(Q(e),t,r,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function D(e,t,r){if(e==null)return e;var s=[],a=0;return T(e,s,"","",function(f){return t.call(r,f,a++)}),s}function Z(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var V=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function J(){}return o.Children={map:D,forEach:function(e,t,r){D(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(t){return t})||[]},only:function(e){if(!d(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},o.Component=w,o.Fragment=E,o.Profiler=_,o.PureComponent=N,o.StrictMode=C,o.Suspense=q,o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,o.__COMPILER_RUNTIME={__proto__:null,c:function(e){return c.H.useMemoCache(e)}},o.cache=function(e){return function(){return e.apply(null,arguments)}},o.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=W({},e.props),a=e.key,f=void 0;if(t!=null)for(i in t.ref!==void 0&&(f=void 0),t.key!==void 0&&(a=""+t.key),t)!R.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(s[i]=t[i]);var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){for(var y=Array(i),p=0;p<i;p++)y[p]=arguments[p+2];s.children=y}return A(e.type,a,void 0,void 0,f,s)},o.createContext=function(e){return e={$$typeof:S,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Y,_context:e},e},o.createElement=function(e,t,r){var s,a={},f=null;if(t!=null)for(s in t.key!==void 0&&(f=""+t.key),t)R.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(a[s]=t[s]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var y=Array(i),p=0;p<i;p++)y[p]=arguments[p+2];a.children=y}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)a[s]===void 0&&(a[s]=i[s]);return A(e,f,void 0,void 0,null,a)},o.createRef=function(){return{current:null}},o.forwardRef=function(e){return{$$typeof:U,render:e}},o.isValidElement=d,o.lazy=function(e){return{$$typeof:j,_payload:{_status:-1,_result:e},_init:Z}},o.memo=function(e,t){return{$$typeof:H,type:e,compare:t===void 0?null:t}},o.startTransition=function(e){var t=c.T,r={};c.T=r;try{var s=e(),a=c.S;a!==null&&a(r,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(J,V)}catch(f){V(f)}finally{c.T=t}},o.unstable_useCacheRefresh=function(){return c.H.useCacheRefresh()},o.use=function(e){return c.H.use(e)},o.useActionState=function(e,t,r){return c.H.useActionState(e,t,r)},o.useCallback=function(e,t){return c.H.useCallback(e,t)},o.useContext=function(e){return c.H.useContext(e)},o.useDebugValue=function(){},o.useDeferredValue=function(e,t){return c.H.useDeferredValue(e,t)},o.useEffect=function(e,t,r){var s=c.H;if(typeof r=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)},o.useId=function(){return c.H.useId()},o.useImperativeHandle=function(e,t,r){return c.H.useImperativeHandle(e,t,r)},o.useInsertionEffect=function(e,t){return c.H.useInsertionEffect(e,t)},o.useLayoutEffect=function(e,t){return c.H.useLayoutEffect(e,t)},o.useMemo=function(e,t){return c.H.useMemo(e,t)},o.useOptimistic=function(e,t){return c.H.useOptimistic(e,t)},o.useReducer=function(e,t,r){return c.H.useReducer(e,t,r)},o.useRef=function(e){return c.H.useRef(e)},o.useState=function(e){return c.H.useState(e)},o.useSyncExternalStore=function(e,t,r){return c.H.useSyncExternalStore(e,t,r)},o.useTransition=function(){return c.H.useTransition()},o.version="19.1.0",o}var K;function se(){return K||(K=1,B.exports=re()),B.exports}se();function oe(l){return n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...l,children:n("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v-.07zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})}const X={src:"/_astro/logo_square.CgWTnIdH.png"},ie=({checked:l,onChange:m,className:E})=>n("button",{type:"button",role:"switch","aria-checked":l,onClick:()=>m(!l),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-mobai-background ${l?"bg-blue-500":"bg-gray-600"} ${E}`,children:n("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${l?"translate-x-5":"translate-x-0"}`})}),ae=({latestVer:l,publishedDate:m,loading:E,size:C})=>n("a",{href:"https://classwidgets.rinlit.cn/download/",target:"_blank",rel:"noopener noreferrer",className:C==="auto"?"w-full h-full flex flex-col items-center justify-center p-4 bg-white/5 rounded-lg shadow-md border border-white/10":"p-4 bg-white/5 rounded-lg shadow-md inline-flex items-center gap-4 border border-white/10",children:E?n("span",{className:"text-sm text-gray-400",children:"正在获取最新版本信息..."}):n(te,{children:[n("img",{src:X.src,alt:"Class Widgets Logo",className:"size-12"}),n("div",{className:C==="auto"?"text-center":"",children:[n("span",{className:"text-lg font-semibold text-white block",children:["最新版本: ",l]}),m&&n("span",{className:"text-sm text-gray-400 block",children:["发布日期: ",m]})]})]})}),de=()=>{const[l,m]=x("windows"),[E,C]=x(0),[_,Y]=x({width:0,left:0,top:0,height:0}),S=ee(null),[U,q]=x(!1),[H,j]=x(!0),[$,z]=x(null),[L,W]=x(null),[k,w]=x(!0),I={"#win":"windows","#seewo":"seewo"},N=u=>{if(!S.current)return;const d=S.current.querySelector(`button[data-platform="${u}"]`);if(!d)return;const{offsetLeft:h,offsetTop:v,offsetWidth:P,offsetHeight:M}=d;Y({left:h,top:v,width:P,height:M})};O(()=>{const u=()=>{const d=window.location.hash,h=I[d];h&&m(h)};return u(),window.addEventListener("hashchange",u),()=>{window.removeEventListener("hashchange",u)}},[]),O(()=>{q(!0)},[]),O(()=>{N(l);const u=()=>N(l);return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[l]),O(()=>{(async()=>{try{const d=await fetch("https://ghfile.geekertao.top/https://api.github.com/repos/Class-Widgets/Class-Widgets/releases/latest");if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=await d.json();z(h.tag_name);const v=new Date(h.published_at);W(v.toLocaleDateString("zh-CN"))}catch(d){console.error("获取最新release失败:",d),z("v1.1.7.1"),W(null)}finally{w(!1)}})()},[]);const b=[{id:"windows",name:"Windows",icon:ne},{id:"seewo",name:"SEEWO",icon:oe}];O(()=>{const u=b.findIndex(d=>d.id===l);C(u)},[l]);const g=$||"v1.1.7.1",c="https://ghfile.geekertao.top/",R=u=>H?c+u:u,A={windows:{title:"Windows下载",description:`支持Windows7及以上版本。
提供x64和x86版本。`,downloads:[{name:g,type:"x64",url:R(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${g}/ClassWidgets-Windows-x64.zip`)},{name:g,type:"x86",url:R(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${g}/ClassWidgets-Windows-x86.zip`)}]},seewo:{title:"SEEWO下载",description:`专为SEEWO智能交互平板定制版本。
优化触控体验，适配SEEWO系统。`,downloads:[{name:g,type:"SEEWO版",url:R(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${g}/ClassWidgets-SEEWO.zip`)}]}};return n("div",{className:`min-h-screen bg-mobai-background text-mobai-foreground transition-all duration-700 ease-out ${U?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:n("div",{className:"max-w-6xl mx-auto px-8 py-16 md:px-12 lg:px-16",children:[n("div",{className:"mb-16",children:[n("h1",{className:"text-5xl font-bold mb-6 text-white","data-aos":"fade-right",children:"下载Class Widgets"}),n("p",{className:"text-xl text-gray-300 max-w-3xl leading-relaxed","data-aos":"fade-right",children:"下载Class Widgets应用程序以在您的设备上使用。我们提供了适用于Windows的版本，确保您可以在Windows平台上享受我们的软件。"}),n("br",{}),n("div",{"data-aos":"fade-right",children:n(ae,{latestVer:$,publishedDate:L,loading:k})}),n("div",{className:"mt-8 flex items-center","data-aos":"fade-right",children:[n(ie,{checked:H,onChange:j,className:"mr-2"}),n("label",{htmlFor:"useProxyToggle",className:"text-gray-300",children:"使用代理下载 (如果直接下载速度慢，请勾选此项)"})]})]}),n("div",{className:"mb-12","data-aos":"zoom-in-right",children:n("div",{ref:S,className:"flex flex-wrap gap-2 bg-white/5 rounded-xl p-2 w-fit relative",children:[b.map(u=>{const d=u.icon;return n("button",{onClick:()=>{m(u.id);const h=u.id==="windows"?"win":u.id==="seewo"?"seewo":u.id;history.replaceState(null,"",`#${h}`)},"data-platform":u.id,className:`flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 relative z-10 ${l===u.id?"text-black":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[n(d,{className:"size-5"}),n("span",{className:`font-medium ${l!==u.id?"hidden md:block":""}`,children:u.name})]},u.id)}),n("div",{className:"absolute rounded-lg bg-white transition-all duration-300 z-0",style:{left:`${_.left}px`,top:`${_.top}px`,width:`${_.width}px`,height:`${_.height}px`}})]})}),n("div",{className:"bg-white/5 rounded-2xl p-8 backdrop-blur-sm border border-white/10","data-aos":"zoom-out-right",children:n("div",{className:"flex items-start justify-between",children:[n("div",{className:"flex-1 overflow-hidden",children:n("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${E*100}%)`},children:b.map(u=>{const d=A[u.id];return n("div",{className:"w-full flex-shrink-0",children:[n("div",{className:"flex items-center gap-3 mb-4",children:[n(u.icon,{className:"size-8 text-white"}),n("h2",{className:"text-3xl font-semibold text-white",children:d.title})]}),n("p",{className:"text-gray-300 mb-8 whitespace-pre-line leading-relaxed",children:d.description}),n("div",{className:"space-y-4",children:k?n("p",{className:"text-gray-400",children:"正在加载最新版本信息..."}):d.downloads.map((h,v)=>n("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-300",children:[n("div",{className:"flex items-center gap-4",children:n("div",{children:n("div",{className:"flex items-center gap-2",children:[n("span",{className:"text-lg font-medium text-white",children:h.name}),n("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${h.type==="Beta"?"bg-orange-500/20 text-orange-300 border border-orange-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:h.type})]})})}),n("a",{href:h.url,className:"flex items-center gap-2 bg-white text-black px-6 py-2 rounded-lg font-medium hover:bg-gray-100 transition-all duration-300",children:[n("svg",{className:"size-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"下载"]})]},v))})]},u.id)})})}),n("div",{className:"ml-8 hidden lg:block",children:n("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl p-6 shadow-2xl border border-white/10",children:n("img",{src:X.src,alt:"Class Widgets",className:"size-32 rounded-2xl"})})})]})}),n("div",{className:"mt-12 text-center",children:[n("p",{className:"text-gray-400 mb-4",children:["需要帮助？前往我们的"," ",n("a",{href:"https://github.com/Class-Widgets/Class-Widgets",children:"Github"})," ","或者加入"," ",n("a",{href:"https://github.com/orgs/Class-Widgets/discussions",children:"社群"})]}),n("p",{className:"text-sm text-gray-500",children:"所有下载均经过数字签名和安全验证"})]})]})})};export{de as default};
