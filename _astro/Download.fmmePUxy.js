import{d as a,A as T,y as d}from"./hooks.module.z57d8FTj.js";import{u as e}from"./jsxRuntime.module.C14-XZ0T.js";import"./preact.module.CtyjANje.js";function V(s){return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 200 60",...s,children:e("g",{children:[e("path",{fill:"#1E88E5",d:"M15 45c-8.284 0-15-6.716-15-15s6.716-15 15-15 15 6.716 15 15-6.716 15-15 15zm0-25c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10z"}),e("path",{fill:"#1E88E5",d:"M45 45c-8.284 0-15-6.716-15-15s6.716-15 15-15 15 6.716 15 15-6.716 15-15 15zm0-25c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10z"}),e("path",{fill:"#1E88E5",d:"M75 45c-8.284 0-15-6.716-15-15s6.716-15 15-15 15 6.716 15 15-6.716 15-15 15zm0-25c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10z"}),e("path",{fill:"#66BB6A",d:"M105 45c-8.284 0-15-6.716-15-15s6.716-15 15-15 15 6.716 15 15-6.716 15-15 15zm0-25c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10z"}),e("path",{fill:"#1E88E5",d:"M135 45c-8.284 0-15-6.716-15-15s6.716-15 15-15 15 6.716 15 15-6.716 15-15 15zm0-25c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10z"}),e("text",{x:"165",y:"35","font-family":"Arial, sans-serif","font-size":"24","font-weight":"bold",fill:"#1E88E5",children:"希沃"})]})})}function P(s){return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 300 100",...s,children:e("g",{children:[e("rect",{x:"10",y:"20",width:"60",height:"60",rx:"10",fill:"#E53E3E"}),e("text",{x:"40",y:"55","font-family":"Arial, sans-serif","font-size":"20","font-weight":"bold",fill:"white","text-anchor":"middle",children:"鸿"}),e("rect",{x:"80",y:"20",width:"60",height:"60",rx:"10",fill:"#E53E3E"}),e("text",{x:"110",y:"55","font-family":"Arial, sans-serif","font-size":"20","font-weight":"bold",fill:"white","text-anchor":"middle",children:"合"}),e("text",{x:"160",y:"40","font-family":"Arial, sans-serif","font-size":"14","font-weight":"normal",fill:"#2D3748",children:"HiteVision"}),e("text",{x:"160",y:"60","font-family":"Arial, sans-serif","font-size":"12","font-weight":"normal",fill:"#718096",children:"智慧教育解决方案"})]})})}function S(s){return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...s,children:e("path",{fill:"currentColor",d:"M3 12V6.75l6-1.32v6.48zm17-9v8.75l-10 .15V5.21zM3 13l6 .09v6.81l-6-1.15zm17 .25V22l-10-1.91V13.1z"})})}const D={src:"/_astro/logo_square.CgWTnIdH.png"},H=({checked:s,onChange:c,className:m})=>e("button",{type:"button",role:"switch","aria-checked":s,onClick:()=>c(!s),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-mobai-background ${s?"bg-blue-500":"bg-gray-600"} ${m}`,children:e("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${s?"translate-x-5":"translate-x-0"}`})}),R=()=>{const[s,c]=a("windows"),[m,b]=a(0),[h,v]=a({width:0,left:0,top:0,height:0}),g=T(null),[y,C]=a(!1),[w,N]=a(!0),[z,u]=a(null),[B,x]=a(null),[W,E]=a(!0),$={"#win":"windows","#seewo":"seewo","#HiteVision":"HiteVision"},p=t=>{if(!g.current)return;const i=g.current.querySelector(`button[data-platform="${t}"]`);if(!i)return;const{offsetLeft:n,offsetTop:o,offsetWidth:L,offsetHeight:M}=i;v({left:n,top:o,width:L,height:M})};d(()=>{const t=()=>{const i=window.location.hash,n=$[i];n&&c(n)};return t(),window.addEventListener("hashchange",t),()=>{window.removeEventListener("hashchange",t)}},[]),d(()=>{C(!0)},[]),d(()=>{p(s);const t=()=>p(s);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[s]),d(()=>{(async()=>{try{const i=await fetch("https://ghfile.geekertao.top/https://api.github.com/repos/Class-Widgets/Class-Widgets/releases/latest");if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const n=await i.json();u(n.tag_name);const o=new Date(n.published_at);x(o.toLocaleDateString("zh-CN"))}catch(i){console.error("获取最新release失败:",i),u("MT 41A"),x(null)}finally{E(!1)}})()},[]);const f=[{id:"windows",name:"PC",icon:S},{id:"seewo",name:"希沃",icon:V},{id:"HiteVision",name:"鸿合",icon:P}];d(()=>{const t=f.findIndex(i=>i.id===s);b(t)},[s]);const l=z||"v1.1.7.1",k="https://ghfile.geekertao.top/",r=t=>w?k+t:t,A={seewo:{title:"希沃下载",description:"支持MT 71A和MT 41A。",downloads:[{name:"MT 71A",type:"arm64",url:r(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${l}/ClassWidgets-seewo-arm64.zip`)},{name:"MT 41A",type:"x64",url:r(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${l}/ClassWidgets-seewo-x64.zip`)}]},windows:{title:"普通PC下载",description:"支持win64位的普通PC电脑",downloads:[{name:"ClassOS 10",type:"x64",url:r(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${l}/ClassWidgets-Windows-x64.zip`)},{name:"ClassOS 7",type:"x86",url:r(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${l}/ClassWidgets-Windows-x86.zip`)},{name:"ClassOS 11",type:"x64",url:r(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${l}/ClassWidgets-Windows-x64-11.zip`)}]},HiteVision:{title:"鸿合下载",description:"暂时没有，等几个月吧~",downloads:[{name:"鸿合",type:"x64",url:r(`https://github.com/Class-Widgets/Class-Widgets/releases/download/${l}/ClassWidgets-Debian10.zip`)}]}};return e("div",{className:`min-h-screen bg-mobai-background text-mobai-foreground transition-all duration-700 ease-out ${y?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e("div",{className:"max-w-6xl mx-auto px-8 py-16 md:px-12 lg:px-16",children:[e("div",{className:"mb-16",children:[e("h1",{className:"text-5xl font-bold mb-6 text-white",children:"下载 ClassOS"}),e("p",{className:"text-xl text-gray-300 max-w-3xl leading-relaxed",children:"下载 ClassOS 系统以在您的设备上使用。我们提供了适用于希沃和鸿合的版本，确保您可以在任何平台上享受我们的系统。"}),e("div",{className:"mt-8 flex items-center",children:[e(H,{checked:w,onChange:N,className:"mr-2"}),e("label",{htmlFor:"useProxyToggle",className:"text-gray-300",children:"使用代理下载 (如果直接下载速度慢，请勾选此项)"})]})]}),e("div",{className:"mb-12",children:e("div",{ref:g,className:"flex flex-wrap gap-2 bg-white/5 rounded-xl p-2 w-fit relative",children:[f.map(t=>{const i=t.icon;return e("button",{onClick:()=>{c(t.id);const n=t.id==="windows"?"win":t.id;history.replaceState(null,"",`#${n}`)},"data-platform":t.id,className:`flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 relative z-10 ${s===t.id?"text-black":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[e(i,{className:"size-5"}),e("span",{className:`font-medium ${s!==t.id?"hidden md:block":""}`,children:t.name})]},t.id)}),e("div",{className:"absolute rounded-lg bg-white transition-all duration-300 z-0",style:{left:`${h.left}px`,top:`${h.top}px`,width:`${h.width}px`,height:`${h.height}px`}})]})}),e("div",{className:"bg-white/5 rounded-2xl p-8 backdrop-blur-sm border border-white/10",children:e("div",{className:"flex items-start justify-between",children:[e("div",{className:"flex-1 overflow-hidden",children:e("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${m*100}%)`},children:f.map(t=>{const i=A[t.id];return e("div",{className:"w-full flex-shrink-0",children:[e("div",{className:"flex items-center gap-3 mb-4",children:[e(t.icon,{className:"size-8 text-white"}),e("h2",{className:"text-3xl font-semibold text-white",children:i.title})]}),e("p",{className:"text-gray-300 mb-8 whitespace-pre-line leading-relaxed",children:i.description}),e("div",{className:"space-y-4",children:W?e("p",{className:"text-gray-400",children:"正在加载最新版本信息..."}):i.downloads.map((n,o)=>e("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-300",children:[e("div",{className:"flex items-center gap-4",children:e("div",{children:e("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-lg font-medium text-white",children:n.name}),e("span",{className:"px-2 py-1 rounded-md text-xs font-medium bg-green-500/20 text-green-300 border border-green-500/30",children:n.type})]})})}),e("a",{href:n.url,className:"flex items-center gap-2 bg-white text-black px-6 py-2 rounded-lg font-medium hover:bg-gray-100 transition-all duration-300",children:[e("svg",{className:"size-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"下载"]})]},o))})]},t.id)})})}),e("div",{className:"ml-8 hidden lg:block",children:e("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl p-6 shadow-2xl border border-white/10",children:e("img",{src:D.src,alt:"ClassOS",className:"size-32 rounded-2xl"})})})]})}),e("div",{className:"mt-12 text-center",children:[e("p",{className:"text-gray-400 mb-4",children:["需要帮助？前往我们的"," ",e("a",{href:"https://github.com/Class-Widgets/Class-Widgets",children:"Github"})," ","或者加入"," ",e("a",{href:"https://github.com/orgs/Class-Widgets/discussions",children:"社群"})]}),e("p",{className:"text-sm text-gray-500",children:"所有下载均经过数字签名和安全验证"})]})]})})};export{R as default};
